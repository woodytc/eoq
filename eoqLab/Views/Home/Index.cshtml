<!-- include CSS -->
<link rel="stylesheet" type="text/css" href='@Url.Content("~/Scripts/extjs/resources/css/ext-all-access.css")' />
<link rel="stylesheet" type="text/css" href='@Url.Content("~/Content/Site.css")' />
<link rel="stylesheet" type="text/css" href='@Url.Content("~/Content/icons.css")' />

<script src='@Url.Content("~/Scripts/extjs/ext-all.js")' type="text/javascript"></script>

<!--FrontEnd Model-->
<script src="@Url.Content("~/app/model/home/MainproductModel.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/model/home/PurchaseOrderModel.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/model/home/StockModel.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/model/home/SalesItemModel.js")" type="text/javascript"></script>

<!--Combobox rendered-->
<script src="@Url.Content("~/app/view/home/ComboboxRender.js")" type="text/javascript"></script>
<!--FrontEnd View-->
<script src="@Url.Content("~/app/view/home/MainProductForm.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/view/home/PurchaseOrderForm.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/view/home/StockForm.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/view/home/StockWindow.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/view/home/SaleItemsForm.js")" type="text/javascript"></script>
<script src="@Url.Content("~/app/view/home/SaleItemWindow.js")" type="text/javascript"></script>
<!-- Start script -->
<script type="text/javascript">
    Ext.Loader.setConfig({ enabled: true });
    Ext.Loader.setPath('Ext.ux', '@Url.Content("~/Scripts/extjs/ux")');
    Ext.require(['*']);
    Ext.QuickTips.init();
    //Acount control ---------------------------------------------------------------
    var currentUser = '@ViewBag.CurrentUser';
    var CurrentUserRole = '@ViewBag.CurrentUserRole';
    var actionLogoff = "@Url.Action("Logoff", "Account")";
    window.ContentPath = '@Url.Content("~/Content/")';
    
    window.read_mainProductURL = '@Url.Action("ProductsList","Home")';
    
    /**Purchase Order URLs**/
    window.read_purchaseOrderURL = '@Url.Action("ProductsList","Home")';
    window.update_purchaseOrderURL = '@Url.Action("UpdatePurchaseOrder","Home")';
    window.create_purchaseOrderURL = '@Url.Action("SavePurchaseOrder","Home")';

    //products combobox
    window.read_products_list = '@Url.Action("GetProducts","Home")';
    //product categories combobox
    window.read_categories_list = '@Url.Action("CategoriesList","Home")';
    //units combobox
    window.read_units_list = '@Url.Action("UnitsList","Home")';
    //product price
    window.get_product_price = '@Url.Action("GetProductPrice","Home")';
    //colors combobox
    window.read_colors_list = '@Url.Action("ColorsList","Home")';
    //brands combobox
    window.read_brand_list = '@Url.Action("BrandList","Home")';
    //sizes combobox
    window.read_size_list = '@Url.Action("SizeList","Home")';
    /**Stock URLs**/
    window.read_stockURL = '@Url.Action("StockList","Home")';
    window.create_stockURL = '@Url.Action("SaveStock","Home")';
    window.update_stockURL = '@Url.Action("UpdateStock","Home")';
    window.delete_stockURL = '@Url.Action("DeleteStock","Home")';

    /**Sale Item URLS*/
    window.read_saleItemsURL = '@Url.Action("SaleItemList","Home")';
    window.read_saleItemURL = '@Url.Action("SaleItemDetail","Home")';
    window.read_saleItemMaterialURL = '@Url.Action("SaleItemMaterialList","Home")';
    window.search_saleItemURL = '@Url.Action("SearchSaleItemList","Home")'; 
    
    //create front end view
    var mainProductForm     = new MainProductForm({ id: 'mainProductForm', region: 'north' }),
        purchaseOrderForm   = new PurchaseOrderForm({ id: 'purchaseOrderForm', region: 'north' }),
        stockForm           = new StockForm({ id: 'stockForm', region: 'north' }),
        saleForm            = new SaleItemForm({ id: 'saleItemForm', region: 'north' });
    var tabItems = [];

    tabItems.push(mainProductForm);
    tabItems.push(purchaseOrderForm);
    tabItems.push(stockForm);
    tabItems.push(saleForm);

    //Create main View
    var viewport = Ext.create('Ext.Viewport', {
            id: 'viewport',
            layout: 'border',
        items: [
                    {
                        xtype: 'panel',
                        region: 'north',
                        height: 25, // give north and south regions a height
                        title: 'ชนะชัย ชนาภา อลูมินั่ม C.N.A [ ' + currentUser + ' : ' + CurrentUserRole
                                + ' ]<a href=' + actionLogoff + ' style="font-family:verdana;font-size:12px;color:red;text-decoration: none;">   Logoff</a>'
                    },
                    {
                        xtype: 'tabpanel',
                        region: 'center',
                        items: tabItems
                    }
            ]
    });
</script>